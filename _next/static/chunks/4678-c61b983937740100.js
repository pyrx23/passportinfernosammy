"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4678],{29468:function(e,s,t){var r=t(24246);t(27378);var a=t(7728);s.Z=e=>{let{children:s,className:t}=e;return(0,r.jsx)("div",{className:"".concat(a.W5," ").concat(a.aH," w-full justify-self-center overflow-x-hidden ").concat(t),children:s})}},62049:function(e,s,t){var r=t(24246);t(27378),s.Z=e=>{let{children:s}=e;return(0,r.jsx)("div",{className:"grid h-full min-h-default w-full grid-cols-1 grid-rows-[auto_1fr_auto]",children:s})}},11797:function(e,s,t){var r=t(24246),a=t(27378);let getAssets=()=>({passportLogo:"/assets/passportLogoWhite.svg",gitcoinLogo:"/assets/gitcoinLogoWhite.svg",logoLine:"/assets/logoLine.svg",emphasisColor:"white"});s.Z=e=>{let{className:s}=e,t=(0,a.useMemo)(()=>getAssets(),[]);return(0,r.jsx)("div",{className:"flex h-16 ".concat(s),children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("img",{className:"",src:t.gitcoinLogo,alt:"Gitcoin Logo"}),(0,r.jsx)("img",{className:"mx-3 md:mx-6",src:t.logoLine,alt:"Logo Line"}),(0,r.jsx)("img",{className:"h-8",src:t.passportLogo,alt:"Passport Logo"}),(0,r.jsx)("div",{className:"ml-3 text-2xl text-color-1",children:"Passport"})]})})}},51752:function(e,s,t){var r=t(24246);t(27378),s.Z=e=>{let{children:s,className:t}=e;return(0,r.jsx)("div",{className:"bg-background font-body ".concat(t),children:s})}},74678:function(e,s,t){t.r(s),t.d(s,{default:function(){return Dashboard}});var r=t(24246),a=t(27378),n=t(14935),o=t(86677),l=t(79894),i=t.n(l),c=t(51752),d=t(81613),u=t(19794),m=t(7728);let Footer=e=>{let{lightMode:s}=e;return(0,r.jsxs)(m.ZP,{className:"mt-2 grid-flow-dense bg-gradient-to-b from-background to-background-3 pb-12 pt-8 font-alt text-color-1 lg:flex ".concat(m.W5),children:[(0,r.jsxs)("div",{className:"col-span-3 grow md:col-span-4",children:["Available on"," ",(0,r.jsx)("a",{href:"https://ceramic.network/",target:"_blank",rel:"noopener noreferrer",className:"hover:underline",children:"Ceramic."})]}),(0,r.jsx)("a",{href:"https://support.gitcoin.co/gitcoin-knowledge-base/gitcoin-passport/what-is-gitcoin-passport",target:"_blank",rel:"noopener noreferrer",className:"col-span-4 hover:underline",children:"Learn More"}),(0,r.jsx)("a",{href:"https://scorer.gitcoin.co/",target:"_blank",rel:"noopener noreferrer",className:"col-span-4 hover:underline",children:"Gitcoin Passport Scorer"}),(0,r.jsx)("a",{href:"https://github.com/gitcoinco/passport/commit/".concat("6b98c98"),target:"_blank",rel:"noopener noreferrer",className:"col-span-4 hover:underline",children:"Git commit"}),(0,r.jsx)("a",{href:"https://www.gitcoin.co/privacy",target:"_blank",rel:"noopener noreferrer",className:"col-span-4 hover:underline",children:"Gitcoin Privacy Policy"}),(0,r.jsxs)("div",{className:"col-start-[-2] col-end-[-1] flex items-center justify-self-end md:col-start-[-3]",children:[(0,r.jsx)("a",{href:"https://github.com/gitcoinco/passport",target:"_blank",rel:"noopener noreferrer",className:"mr-8",children:(0,r.jsx)("img",{src:s?"./assets/githubLogoLight.svg":"./assets/githubLogoDark.svg",alt:"Github Logo"})}),(0,r.jsx)("a",{href:"https://docs.passport.gitcoin.co",target:"_blank",rel:"noopener noreferrer",children:(0,r.jsx)("img",{src:s?"./assets/docsIconLight.svg":"./assets/docsIconDark.svg",alt:"Docs Icon"})})]})]})};var x=t(2407);let h=(0,x.cn)(void 0);var p=t(26348);function Warning(e){let{userWarning:s,onDismiss:t,className:a}=e,{content:n,dismissible:o,icon:l,link:i}=s;return(0,r.jsxs)("div",{className:"mx-auto flex w-full items-center justify-center py-2 text-background ".concat(m.wW," ").concat(a),children:[l||(0,r.jsx)("div",{className:"mr-4 w-4",children:(0,r.jsx)(p,{height:24,color:"rgb(var(--color-background))"})}),n," ",i&&(0,r.jsx)("a",{href:i,target:"_blank",rel:"noreferrer",className:"ml-2 underline",children:"More information."}),o&&(0,r.jsx)("button",{onClick:t,className:"ml-2 underline",children:"Dismiss"})]})}var g=t(11797);function SupportBanner(e){let{banners:s}=e;return(0,r.jsx)(r.Fragment,{children:s.map(e=>(0,r.jsx)(Warning,{userWarning:{content:e.content,link:e.link,dismissible:!0},onDismiss:e.dismiss,className:"max-w-full border-t border-background px-4"},e.banner_id))})}var f=t(71296),v=t(14206),b=t.n(v),j=t(29184),N=t(54419);let useSupportBanners=()=>{let[e,s]=(0,a.useState)([]),{dbAccessToken:t,dbAccessTokenStatus:r}=(0,N.sj)(),n=(0,a.useCallback)(async()=>{if("connected"===r&&t){let e=await b().get("".concat("https://api.scorer.gitcoin.co","/passport-admin/banners"),{headers:{Authorization:"Bearer ".concat(t)}});s(e.data.map(e=>({...e,dismiss:creatDismissSupportBannerCallback(e.banner_id)})))}},[t,r]),creatDismissSupportBannerCallback=e=>async()=>{try{if(!t)throw Error("No access token");await b().post("".concat("https://api.scorer.gitcoin.co","/passport-admin/banners/").concat(e,"/dismiss"),{},{headers:{Authorization:"Bearer ".concat(t)}}),s(s=>s.filter(s=>s.banner_id!==e))}catch(e){j.v.addError(e)}};return(0,a.useMemo)(()=>({banners:e,loadBanners:n}),[e,n])};var components_Header=()=>{let[e,s]=(0,f.KO)(h),{banners:t,loadBanners:n}=useSupportBanners();return(0,a.useEffect)(()=>{n()},[n]),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"w-full bg-background ".concat(m.W5),children:(0,r.jsx)(g.Z,{})}),!(e||t.length)&&(0,r.jsx)("div",{className:"h-1 w-full bg-gradient-to-b from-foreground-4 to-background"}),(0,r.jsx)("div",{className:"w-full bg-background-3 ".concat(m.W5),children:e&&(0,r.jsx)(Warning,{userWarning:e,onDismiss:()=>s(void 0)})}),(0,r.jsx)("div",{className:"w-full bg-foreground-2",children:(0,r.jsx)(SupportBanner,{banners:t})})]})},y=t(29468),w=t(62049),k=t(98554),C=t(43704),E=t(36118);let ScoreRing=e=>{let{className:s}=e,{rawScore:t,passportSubmissionState:n}=a.useContext(C.w),[o,l]=a.useState(0);return(0,a.useEffect)(()=>{l(t)},[t]),(0,r.jsxs)("div",{className:"".concat(s," grid place-items-center"),children:[(0,r.jsxs)("svg",{className:"col-start-1 row-start-1",width:"82",height:"94",viewBox:"0 0 81.40638795573723 94",children:[(0,r.jsx)("path",{className:"translate-x-[3.5px] translate-y-[4.0px] transition-[stroke-dashoffset] delay-300 duration-1000 ease-in-out",fill:"transparent",stroke:"currentColor",strokeWidth:"8",strokeDasharray:255,strokeDashoffset:255*(1-o/100)-6,d:"M31.176914536239785 3.4999999999999996Q37.23909236273086 0 43.30127018922193 3.5L68.41600689897065 18Q74.47818472546172 21.5 74.47818472546172 28.5L74.47818472546172 57.5Q74.47818472546172 64.5 68.41600689897065 68L43.30127018922193 82.5Q37.23909236273086 86 31.17691453623979 82.5L6.06217782649107 68Q0 64.5 0 57.5L0 28.5Q0 21.5 6.062177826491071 18Z"}),(0,r.jsx)("path",{className:"translate-x-[3.5px] translate-y-[4.0px]",fill:"transparent",stroke:o<100?"rgb(var(--color-background))":"currentColor",strokeWidth:"8",strokeDasharray:255,strokeDashoffset:249,d:"M31.176914536239785 3.4999999999999996Q37.23909236273086 0 43.30127018922193 3.5L68.41600689897065 18Q74.47818472546172 21.5 74.47818472546172 28.5L74.47818472546172 57.5Q74.47818472546172 64.5 68.41600689897065 68L43.30127018922193 82.5Q37.23909236273086 86 31.17691453623979 82.5L6.06217782649107 68Q0 64.5 0 57.5L0 28.5Q0 21.5 6.062177826491071 18Z"}),(0,r.jsx)("path",{className:"translate-x-[3.5px] translate-y-[4.0px]",fill:"transparent",stroke:o<100?"rgb(var(--color-background-4) / .6)":"currentColor",strokeWidth:"8",strokeDasharray:255,strokeDashoffset:249,d:"M31.176914536239785 3.4999999999999996Q37.23909236273086 0 43.30127018922193 3.5L68.41600689897065 18Q74.47818472546172 21.5 74.47818472546172 28.5L74.47818472546172 57.5Q74.47818472546172 64.5 68.41600689897065 68L43.30127018922193 82.5Q37.23909236273086 86 31.17691453623979 82.5L6.06217782649107 68Q0 64.5 0 57.5L0 28.5Q0 21.5 6.062177826491071 18Z"}),(0,r.jsx)("path",{fill:"transparent",stroke:"currentColor",strokeWidth:"2",className:"translate-x-[7.8px] translate-y-[9px]",d:"M26.846787517317594 3.4999999999999996Q32.90896534380867 0 38.97114317029974 3.5L59.75575286112626 15.5Q65.81793068761733 19 65.81793068761733 26L65.81793068761733 50Q65.81793068761733 57 59.75575286112626 60.5L38.97114317029974 72.5Q32.90896534380867 76 26.846787517317598 72.5L6.06217782649107 60.5Q0 57 0 50L0 26Q0 19 6.062177826491071 15.5Z"}),(0,r.jsx)("path",{fill:"transparent",stroke:"currentColor",strokeWidth:"2",d:"M34.64101615137754 3.4999999999999996Q40.703193977868615 0 46.76537180435969 3.4999999999999996L75.34421012924616 20Q81.40638795573723 23.5 81.40638795573723 30.5L81.40638795573723 63.5Q81.40638795573723 70.5 75.34421012924616 74L46.76537180435969 90.5Q40.703193977868615 94 34.64101615137754 90.5L6.062177826491071 74Q0 70.5 0 63.5L0 30.5Q0 23.5 6.062177826491071 20Z"})]}),(0,r.jsx)("div",{className:"col-start-1 row-start-1 text-2xl",children:"APP_REQUEST_PENDING"===n?(0,r.jsx)("div",{className:"translate-y-1",children:(0,r.jsx)(E.$,{thickness:"2px",speed:"0.65s",emptyColor:"rgb(var(--color-foreground-2)/.25)",color:"rgb(var(--color-foreground-2)/.75)",size:"lg"})}):(0,r.jsx)("span",{children:+o.toFixed(2)})})]})},DashboardScorePanel=e=>{let{className:s}=e;return(0,r.jsxs)("div",{className:"".concat(s," flex flex-col rounded border border-foreground-3 bg-gradient-to-b from-background to-background-4"),children:[(0,r.jsxs)("div",{className:"flex p-4",children:[(0,r.jsx)("img",{alt:"Person Icon",className:"mr-2",src:"/assets/personIcon.svg"}),(0,r.jsx)("span",{children:"Default Humanity Score"})]}),(0,r.jsx)("div",{className:"my-2 h-[2px] w-full bg-gradient-to-r from-background-4 via-foreground-2 to-background-4"}),(0,r.jsxs)("div",{className:"flex grow items-center p-4 text-foreground-2",children:[(0,r.jsx)(ScoreRing,{className:"shrink-0"}),(0,r.jsx)("div",{className:"mx-6 h-3/4 w-[2px] shrink-0 bg-gradient-to-t from-background-4 via-foreground-2 to-background-4"}),(0,r.jsx)("p",{className:"shrink",children:"Your Unique Humanity Score is based out of 100 and measures your uniqueness. The current passing threshold is 20. Scores may vary across different apps, especially due to abuse or attacks on the service."})]})]})};var P=t(18700),L=t(72710),_=t(57644),S=t(41706),O=t(97821),D=t(69865),V=t(20013),T=t(87851),M=t(13113),A=t(31932),I=t(69699),R=t(97847),Q=t(48332),U=t(37869);let TextAlignedInfoIcon=e=>{let{className:s}=e;return(0,r.jsx)(Q,{className:"relative top-[.125em] h-[1em] w-[1em] text-color-2 ".concat(s)})};var Tooltip=e=>{let{children:s,className:t,panelClassName:n,iconClassName:o}=e,[l,i]=(0,a.useState)(null),[c,d]=(0,a.useState)(null),{styles:u,attributes:m}=(0,U.D)(l,c,{modifiers:[{name:"preventOverflow",options:{padding:24}}]});return(0,r.jsxs)(R.J,{className:"group cursor-pointer px-2 ".concat(t),children:[(0,r.jsx)(R.J.Button,{as:"div",ref:i,children:(0,r.jsx)(TextAlignedInfoIcon,{className:o})}),(0,r.jsx)(R.J.Panel,{ref:d,className:"invisible z-10 w-4/5 max-w-screen-md rounded-md border border-foreground-6 bg-background text-sm text-color-1 group-hover:visible ".concat(n),style:u.popper,...m.popper,static:!0,children:(0,r.jsx)("div",{className:"px-4 py-2",children:s})})]})},Z=t(70410),F=t(31376),B=t(7583),G=t(32423),W=t(39872);let z="../assets/verification-failed-bright.svg",H="../../assets/check-icon2.svg",useSyncToChainButton=e=>{var s;let{chain:t,onChainStatus:n,getButtonMsg:o}=e,l=(0,Z.p)(),i=(0,W.X)(e=>e.address),c=(0,W.X)(e=>e.provider),d=(0,W.X)(e=>e.chain),u=(0,W.X)(e=>e.setChain),{passport:m}=(0,a.useContext)(L.oQ),{readOnChainData:x}=(0,a.useContext)(_.F),[h,p]=(0,a.useState)(!1),g=(0,a.useCallback)(async e=>{var s;if(!t)return;let r=new F.Q(e,"any");if((null===(s=t.attestationProvider)||void 0===s?void 0:s.status)!=="enabled")throw Error("Active attestationProvider not found for chainId ".concat(t.id));let a=t.attestationProvider.verifierAddress(),n=t.attestationProvider.verifierAbi();return new B.CH(a,n,await r.getSigner())},[t]),f=(0,a.useCallback)(async(e,s)=>{if(s&&e&&t){var a,n,o,c,d;try{p(!0);let n=s.stamps.map(e=>{let{credential:s}=e;return s}),o=await g(e);if(!o)return;if(0===n.length){l({duration:9e3,isClosable:!0,render:e=>(0,r.jsx)(k.R,{title:"Error",message:"You do not have any Stamps to bring onchain.",icon:z,result:e})});return}let c=await o.recipientNonces(i),d={recipient:i,credentials:n,nonce:c,chainIdHex:t.id};if(t&&t.attestationProvider){let{data:e}=await t.attestationProvider.getMultiAttestationRequest(d);if(e.error&&console.error("error syncing credentials to chain: ",e.error,"credentials: ",n,"nonce:",c),e.invalidCredentials.length>0&&console.log("not syncing invalid credentials (invalid credentials): ",e.invalidCredentials),e.passport){let{v:s,r:n,s:c}=e.signature,d=await o.verifyAndAttest(e.passport,s,n,c,{value:e.passport.fee});l({duration:9e3,isClosable:!0,render:e=>(0,r.jsx)(k.R,{title:"Submitted",message:"Passport submitted to chain.",icon:H,result:e})}),await d.wait(),await x(t.id);let u=(0,r.jsxs)("p",{children:["Passport successfully synced to chain."," ",(null==t?void 0:null===(a=t.attestationProvider)||void 0===a?void 0:a.hasWebViewer)&&i&&(0,r.jsx)("a",{href:t.attestationProvider.viewerUrl(i),className:"underline",target:"_blank",rel:"noopener noreferrer",children:"Check your attestations"})]});l({duration:9e3,isClosable:!0,render:e=>(0,r.jsx)(k.R,{title:"Success",body:u,icon:H,result:e})})}}}catch(s){console.error("error syncing credentials to chain: ",s);let e="An unexpected error occurred while trying to bring the data onchain.";(0,G.VZ)(s,"ACTION_REJECTED")?e="Transaction rejected by user":(0,G.VZ)(s,"INSUFFICIENT_FUNDS")||(null==s?void 0:null===(d=s.info)||void 0===d?void 0:null===(c=d.error)||void 0===c?void 0:null===(o=c.data)||void 0===o?void 0:null===(n=o.message)||void 0===n?void 0:n.includes("insufficient funds"))?e="You don't have sufficient funds to bring your Stamps onchain. Consider funding your wallet first.":(0,G.VZ)(s,"CALL_EXCEPTION")?e=(0,r.jsx)(ErrorDetails,{msg:"Error writing Stamps to chain: "+s.reason,ethersError:s}):(0,G.VZ)(s,"NONCE_EXPIRED")||(0,G.VZ)(s,"REPLACEMENT_UNDERPRICED")||(0,G.VZ)(s,"TRANSACTION_REPLACED")||(0,G.VZ)(s,"UNCONFIGURED_NAME")||(0,G.VZ)(s,"OFFCHAIN_FAULT")?e=(0,r.jsx)(ErrorDetails,{msg:"A Blockchain error occurred while executing this transaction. Please try again in a few minutes.",ethersError:s}):(0,G.VZ)(s,"INVALID_ARGUMENT")||(0,G.VZ)(s,"MISSING_ARGUMENT")||(0,G.VZ)(s,"UNEXPECTED_ARGUMENT")||(0,G.VZ)(s,"VALUE_MISMATCH")?e=(0,r.jsx)(ErrorDetails,{msg:"Error calling the smart contract function. This is probably a fault in the app. Please try again or contact support if this does not work out.",ethersError:s}):(0,G.VZ)(s,"UNKNOWN_ERROR")||(0,G.VZ)(s,"NOT_IMPLEMENTED")||(0,G.VZ)(s,"UNSUPPORTED_OPERATION")||(0,G.VZ)(s,"NETWORK_ERROR")||(0,G.VZ)(s,"SERVER_ERROR")||(0,G.VZ)(s,"TIMEOUT")||(0,G.VZ)(s,"BAD_DATA")||(0,G.VZ)(s,"CANCELLED")?e=(0,r.jsx)(ErrorDetails,{msg:"An unexpected error occurred while calling the smart contract function. Please contact support.",ethersError:s}):((0,G.VZ)(s,"BUFFER_OVERRUN")||(0,G.VZ)(s,"NUMERIC_FAULT"))&&(e=(0,r.jsx)(ErrorDetails,{msg:"An operational error occurred while calling the smart contract. Please contact support.",ethersError:s})),l({duration:9e3,isClosable:!0,render:s=>(0,r.jsx)(k.R,{title:"Error",body:e,icon:z,result:s})})}finally{p(!1)}}},[i,null==t?void 0:t.attestationProvider,null==t?void 0:t.id,g,x,l]),v=(0,a.useCallback)(async(e,s)=>{if(d&&t&&d!==t.id){let r=await u(t.id);r&&await f(e,s);return}await f(e,s)},[null==t?void 0:t.id,d,f,u]),b=(null==t?void 0:null===(s=t.attestationProvider)||void 0===s?void 0:s.status)==="enabled",j=!b||n===I.V.MOVED_UP_TO_DATE,N=b&&n!==I.V.MOVED_UP_TO_DATE&&t.id!==d,y=b?o(n):"Coming Soon";return{syncingToChain:h,needToSwitchChain:N,text:y,props:{onClick:()=>v(c,m),className:j?"cursor-not-allowed":"",disabled:j}}},ErrorDetails=e=>{let{msg:s,ethersError:t}=e,[n,o]=(0,a.useState)("none"),[l,i]=(0,a.useState)("Show details");return(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{children:s}),(0,r.jsx)("br",{}),"Please"," ",(0,r.jsx)("b",{children:(0,r.jsxs)("a",{href:"#",onClick:e=>{e.preventDefault(),navigator.clipboard.writeText(t.message)},children:["copy transaction details"," "]})})," ","in case you contact our support."," ",(0,r.jsx)("b",{children:(0,r.jsx)("a",{href:"#",onClick:e=>{e.preventDefault(),"none"===n?(o("block"),i("Hide details")):(o("none"),i("Show details"))},children:l})}),(0,r.jsx)("div",{style:{display:n,overflowY:"scroll",maxHeight:"200px"},children:t.message})]})};function getButtonMsg(e){switch(e){case I.V.NOT_MOVED:return"Mint";case I.V.MOVED_OUT_OF_DATE:return"Update";case I.V.MOVED_UP_TO_DATE:return"Minted";case I.V.LOADING:return"Loading"}}function SyncToChainButton(e){var s;let{onChainStatus:t,chain:a,className:n}=e,{props:o,syncingToChain:l,needToSwitchChain:i,text:c}=useSyncToChainButton({chain:a,onChainStatus:t,getButtonMsg}),d=l||t===I.V.LOADING;return(0,r.jsx)("div",{className:"flex justify-end",children:(0,r.jsxs)("button",{...o,className:"center flex justify-center p-2 ".concat(n," ").concat(o.className," h-11 disabled:border-foreground-6"),"data-testid":"sync-to-chain-button",children:[(0,r.jsx)("div",{className:"".concat(d?"block":"hidden"," relative top-1"),children:(0,r.jsx)(E.$,{thickness:"2px",speed:"0.65s",emptyColor:"darkGray",color:"gray",size:"md"})}),i&&(0,r.jsxs)(Tooltip,{className:"px-0",children:["You will be prompted to switch to ",a.label," and sign the transaction"]}),(0,r.jsx)("span",{className:"mx-1 translate-y-[1px] ".concat(d?"hidden":"block"," ").concat(t===I.V.MOVED_UP_TO_DATE||(null===(s=a.attestationProvider)||void 0===s?void 0:s.status)==="comingSoon"?"text-foreground-6":"text-foreground-2"),children:c})]})})}let useOnChainStatus=e=>{let{chain:s}=e,{allProvidersState:t}=(0,a.useContext)(L.oQ),{onChainProviders:r,onChainScores:n}=(0,a.useContext)(_.F),{rawScore:o,scoreState:l}=(0,a.useContext)(C.w),[i,c]=(0,a.useState)(I.V.NOT_MOVED);return(0,a.useEffect)(()=>{let checkStatus=async()=>{var e;if(!s)return;let a=null===(e=A.p.find(e=>{let{id:t}=e;return t===(null==s?void 0:s.id)}))||void 0===e?void 0:e.attestationProvider,i=r[s.id]||[],d=a?a.checkOnChainStatus(t,i,o,l,n[s.id]):I.V.NOT_MOVED;c(d)};checkStatus()},[t,null==s?void 0:s.id,r,n,o,l]),i};function NetworkCard(e){var s,t;let{chain:a}=e,n=useOnChainStatus({chain:a}),o=(0,W.X)(e=>e.address),l=n===I.V.MOVED_OUT_OF_DATE||n===I.V.MOVED_UP_TO_DATE;return(0,r.jsx)("div",{className:"".concat((null==a?void 0:null===(s=a.attestationProvider)||void 0===s?void 0:s.status)==="enabled"&&"bg-background-4 bg-gradient-to-b from-background to-[#06153D]"," mb-6 rounded border border-foreground-6  p-2 align-middle text-color-2"),children:(0,r.jsx)("div",{className:"mx-4 my-2",children:(0,r.jsxs)("div",{className:"".concat(l?"grid-rows-2":"grid-rows-1"," grid grid-flow-col  gap-4 space-y-2"),children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("img",{className:"h-10",src:a.icon,alt:"".concat(a.label," logo")}),(0,r.jsx)("h1",{className:"ml-3 text-xl",children:a.label})]}),l&&(0,r.jsxs)(r.Fragment,{children:[o&&(0,r.jsx)("a",{href:null===(t=a.attestationProvider)||void 0===t?void 0:t.viewerUrl(o),className:"pt-2 text-sm text-foreground-2 underline",children:"Check attestation on EAS"}),(0,r.jsx)("h2",{className:"my-3 pt-2 text-right text-base text-color-1",children:"Moved"})]}),(0,r.jsx)(SyncToChainButton,{className:"inline-block rounded border border-foreground-2",onChainStatus:n,chain:a})]})})})}let Y=A.p.filter(e=>{let{attestationProvider:s}=e;return(null==s?void 0:s.status)==="comingSoon"||(null==s?void 0:s.status)==="enabled"});function OnchainSidebar(e){let{isOpen:s,onClose:t}=e;return(0,r.jsxs)(S.d,{isOpen:s,placement:"right",size:"sm",onClose:t,children:[(0,r.jsx)(O.Z,{}),(0,r.jsxs)(D.s,{style:{backgroundColor:"rgb(var(--color-background))",border:"1px solid rgb(var(--color-foreground-5))",borderRadius:"6px",backgroundImage:"url('/assets/sidebarHeader.svg')",backgroundRepeat:"no-repeat"},children:[(0,r.jsx)(V.o,{className:"visible z-10 text-color-1 md:invisible"}),(0,r.jsx)(T.x,{className:"text-center text-color-1",children:(0,r.jsxs)("div",{className:"mt-10 justify-center text-left",children:[(0,r.jsx)("h2",{className:"text-3xl",children:"Go Onchain"}),(0,r.jsx)("p",{className:"text-base font-normal",children:"Minting your Passport onchain creates a tamper-proof record of your Gitcoin Passport onchain. This is only required if you're using applications that fetch Gitcoin Passport data onchain. Note: Minting your Passport onchain involves blockchain network fees and a $2 minting fee, which is directed to the Gitcoin treasury."})]})}),(0,r.jsx)(M.f,{children:Y.map(e=>(0,r.jsx)(NetworkCard,{chain:e},e.id))})]})]})}var q=t(19620),components_InitiateOnChainButton=e=>{let{className:s}=e,[t,n]=(0,a.useState)(!1);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(q.z,{className:"".concat(s),onClick:()=>n(!0),children:"Bring Passport onchain"}),(0,r.jsx)(OnchainSidebar,{isOpen:t,onClose:()=>n(!1)})]})};let OnchainMarker=e=>{let{className:s}=e;return(0,r.jsx)("span",{className:"text-sm text-[#06CB9E] ".concat(s),children:"⏺"})},StampsList=e=>{let{className:s,onChainPlatformIds:t}=e,{verifiedPlatforms:n}=(0,a.useContext)(L.oQ);return(0,r.jsx)("div",{className:"flex flex-col items-center ".concat(s),children:(0,r.jsx)("div",{className:"flex flex-wrap justify-center gap-8",children:Object.values(n).map(e=>(0,P.n)(e.platform.platformId)).filter(e=>!!e).map(e=>(0,r.jsxs)("div",{className:"flex flex-col items-center",children:[(0,r.jsx)("img",{alt:"Platform Icon",src:e.icon,className:"col-start-1 row-start-1 h-8 w-8"}),(0,r.jsx)(OnchainMarker,{className:t.includes(e.platform)?"visible":"invisible"})]},e.platform))})})},DashboardValidStampsPanel=e=>{let{className:s}=e,{verifiedPlatforms:t,allProvidersState:n}=(0,a.useContext)(L.oQ),{activeChainProviders:o}=(0,a.useContext)(_.F),l=(0,a.useCallback)(e=>{var s;let r=null===(s=t[e])||void 0===s?void 0:s.platFormGroupSpec.map(e=>{let{providers:s}=e;return s.map(e=>{let{name:s}=e;return s})}).flat();return null==r?void 0:r.some(e=>{let s=o.find(s=>s.providerName===e);if(s){var t,r;return s.credentialHash===(null===(r=n[e])||void 0===r?void 0:null===(t=r.stamp)||void 0===t?void 0:t.credential.credentialSubject.hash)}return!1})},[o,n,t]),i=(0,a.useMemo)(()=>Object.keys(t).filter(e=>l(e)),[l,t]),c=(0,a.useMemo)(()=>i.length>0,[i]);return(0,r.jsxs)("div",{className:"flex flex-col items-center rounded border border-foreground-3 bg-gradient-to-b from-background to-background-2 text-xl text-foreground-2 ".concat(s),children:[(0,r.jsx)("div",{className:"my-2",children:"Valid Stamps"}),(0,r.jsx)("div",{className:"h-[2px] w-full bg-gradient-to-r from-background via-foreground-2 to-background"}),(0,r.jsx)(StampsList,{className:"m-6",onChainPlatformIds:i}),(0,r.jsx)(components_InitiateOnChainButton,{className:"mb-2"}),(0,r.jsxs)("span",{className:"mb-2 text-sm ".concat(c?"visible":"invisible"),children:[(0,r.jsx)(OnchainMarker,{})," = Onchain"]})]})};var K=t(3346),X=t(34474),J=t(73801),$=t(78880),ee=t(59584);let getProviderIdsFromPlatformId=e=>J.V[e].flatMap(e=>e.providers.map(e=>e.name)),ReverifyStampsModal=e=>{let{isOpen:s,onClose:t}=e,{expiredProviders:n}=(0,a.useContext)(L.oQ),{claimCredentials:o,status:l}=(0,a.useContext)(ee.Vh),[i,c]=(0,a.useState)(),[d,u]=(0,a.useState)(!0),[m,x]=(0,a.useState)(!1),h=(0,Z.p)(),successToast=()=>{h({duration:9e3,isClosable:!0,render:e=>(0,r.jsx)(k.R,{title:"Success",message:"Your expired stamps have been reverified.",icon:"./assets/check-icon2.svg",result:e})})},p=Object.keys(J.V).filter(e=>{let s=getProviderIdsFromPlatformId(e);return s.filter(e=>n.includes(e)).length>0}),handleClaimStep=async(e,s)=>{if("in_progress"===l)u(!0);else{if(0==e)return;return u(!1),new Promise(e=>{c({doContinue:e})})}},reverifyStamps=async()=>{x(!0);let e=[],s={platformId:"EVMBulkVerify",selectedProviders:[]};Object.keys(J.V).forEach(t=>{var r;let a=getProviderIdsFromPlatformId(t),o=a.filter(e=>n.includes(e)),l=null===(r=L.Zk.get(t))||void 0===r?void 0:r.platform;o.length>0&&((null==l?void 0:l.isEVM)?s.selectedProviders=[...o,...s.selectedProviders]:e.push({platformId:t,selectedProviders:o}))}),await o(handleClaimStep,[s,...e]),x(!1),t(),successToast()};return(0,r.jsxs)(K.u_,{isOpen:s,onClose:t,blockScrollOnMount:!1,children:[(0,r.jsx)(O.Z,{}),(0,r.jsx)(X.h,{children:(0,r.jsxs)("div",{className:"m-3 flex flex-col items-center",children:[(0,r.jsx)("div",{className:"mt-2 w-fit rounded-full bg-pink-500/25",children:(0,r.jsx)("img",{className:"m-2",alt:"shield-exclamation-icon",src:"./assets/shield-exclamation-icon-warning.svg"})}),(0,r.jsx)("p",{className:"m-1 text-sm font-bold",children:"Refresh Expired Stamps"}),(0,r.jsx)("p",{className:"m-1 mb-4 text-center",children:"These expired stamps will be refreshed in your Passport."}),(0,r.jsx)("a",{className:"mb-1 text-center text-sm text-blue-600 underline",href:"https://support.gitcoin.co/gitcoin-knowledge-base/gitcoin-passport/common-questions/why-have-my-stamps-expired",target:"_blank",rel:"noopener noreferrer",children:"Why have my stamps expired?"}),(0,r.jsx)("p",{className:"w-full text-left text-sm font-semibold text-gray-600",children:"Stamps"}),(0,r.jsx)("hr",{className:"border-1 w-full"}),p.map(e=>{let s=(0,P.n)(e);return(0,r.jsxs)("div",{className:"w-full",children:[(0,r.jsxs)("div",{className:"flex w-full items-center justify-start",children:[(0,r.jsx)("img",{width:"25px",alt:"Platform Image",src:null==s?void 0:s.icon,className:"m-3"}),(0,r.jsx)("p",{className:"text-sm font-semibold",children:null==s?void 0:s.name})]}),(0,r.jsx)("hr",{className:"border-1 w-full"})]},null==s?void 0:s.name)}),(0,r.jsxs)("div",{className:"mt-4 grid w-full grid-cols-2 gap-2",children:[(0,r.jsx)(q.z,{onClick:t,variant:"secondary",children:"Cancel"}),m||"in_progress"===l?(0,r.jsx)($.s,{"data-testid":"reverify-next-button",onClick:()=>{i&&i.doContinue()},isLoading:"in_progress"===l,children:"Next"}):(0,r.jsx)($.s,{"data-testid":"reverify-initial-button",onClick:reverifyStamps,children:"Reverify Stamps"})]})]})})]})};var components_InitiateReverifyStampsButton=e=>{let{className:s}=e,[t,n]=(0,a.useState)(!1);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(q.z,{"data-testid":"reverify-button",className:"".concat(s),onClick:()=>{n(!0)},children:"Reverify stamps"}),t&&(0,r.jsx)(ReverifyStampsModal,{isOpen:!0,onClose:()=>{n(!1)}})]})};let ExpiredStampsList=e=>{let{className:s}=e,{expiredPlatforms:t}=(0,a.useContext)(L.oQ);return(0,r.jsx)("div",{className:"flex flex-col items-center ".concat(s),children:(0,r.jsx)("div",{className:"flex flex-wrap justify-center gap-8",children:t?Object.values(t).map(e=>(0,P.n)(e.platform.platformId)).filter(e=>!!e).map(e=>(0,r.jsx)("div",{className:"flex flex-col items-center",children:(0,r.jsx)("img",{alt:"Platform Icon",src:e.icon,className:"col-start-1 row-start-1 h-8 w-8"})},e.platform)):null})})},ExpiredStampsPanel=e=>{let{className:s}=e,{expiredProviders:t}=(0,a.useContext)(L.oQ);return(0,r.jsxs)("div",{className:"flex flex-col items-center rounded border border-foreground-3 bg-gradient-to-b from-background to-background-2 text-xl text-foreground-2 ".concat(s),children:[(0,r.jsx)("div",{className:"my-2",children:"Expired Stamps"}),(0,r.jsx)("div",{className:"h-[2px] w-full bg-gradient-to-r from-background via-foreground-2 to-background"}),(0,r.jsx)(ExpiredStampsList,{className:"m-6"}),t.length>0?(0,r.jsx)(components_InitiateReverifyStampsButton,{className:"mb-10"}):(0,r.jsx)("p",{className:"mb-10",children:"You don't have any expired stamps"})]})};var es=t(67589),et=t(30965),er=t(60241),ea=t(42045);function ProcessingPopup(e){let{children:s,...t}=e;return(0,r.jsx)("div",{...t,className:"top-unset absolute top-40 z-10 my-2 h-10 w-full md:top-10",children:(0,r.jsxs)("div",{className:"absolute left-1/2 w-4/5 -translate-x-1/2 transform rounded border border-foreground-6 bg-background px-8 py-3 md:w-fit md:py-4",children:[(0,r.jsxs)("span",{className:"absolute right-0 top-0 flex h-3 w-3 -translate-y-1/2 translate-x-1/2",children:[(0,r.jsx)("span",{className:"absolute inline-flex h-full w-full animate-ping rounded-full bg-background-3 opacity-75"}),(0,r.jsx)("span",{className:"relative inline-flex h-3 w-3 rounded-full bg-background-3"})]}),(0,r.jsx)("div",{className:"flex justify-around font-bold text-color-2",children:s})]})})}var en=t(73005),eo=t(14284);let VeraxLogo=()=>(0,r.jsxs)("svg",{width:"64",height:"56",viewBox:"0 0 64 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{d:"M17.1082 0H0L15.8409 37.0131L24.395 17.7418L17.1082 0Z",fill:"rgb(var(--color-foreground-7))"}),(0,r.jsx)("path",{d:"M46.5404 0H63.0907L40.7172 55.5197H23.5539L46.5404 0Z",fill:"rgb(var(--color-foreground-7))"})]}),VeraxPanel_getButtonMsg=e=>{switch(e){case I.V.NOT_MOVED:return"Push to Verax";case I.V.MOVED_OUT_OF_DATE:return"Update";case I.V.MOVED_UP_TO_DATE:return"Already pushed";case I.V.LOADING:return"Loading"}},el="on"===eo.env.NEXT_PUBLIC_ENABLE_TESTNET?"Linea Goerli":"Linea",ei=A.p.find(e=>{let{label:s}=e;return s===el}),VeraxPanel=e=>{let{className:s}=e,t=useOnChainStatus({chain:ei}),{score:n}=(0,a.useContext)(C.w),[o,l]=(0,a.useState)(!1),{props:i,syncingToChain:c,text:d,needToSwitchChain:u}=useSyncToChainButton({chain:ei,onChainStatus:t,getButtonMsg:VeraxPanel_getButtonMsg});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"".concat(s," flex rounded border border-foreground-7 ").concat(t===I.V.MOVED_UP_TO_DATE?"text-foreground-7 brightness-50 saturate-50":""," ").concat(t===I.V.MOVED_OUT_OF_DATE?"shadow-[0_0_15px_rgb(var(--color-foreground-7)/.75)]":""),children:[(0,r.jsxs)("div",{className:"flex shrink flex-col items-center justify-center border-r border-foreground-7 bg-gradient-to-b from-transparent to-foreground-7/[.4] p-6",children:[(0,r.jsx)(VeraxLogo,{}),(0,r.jsx)("span",{className:"mt-1 text-3xl leading-none",children:"Verax"})]}),(0,r.jsxs)("div",{className:"relative flex flex-col justify-start gap-2 bg-gradient-to-b from-transparent to-foreground-7/[.26] p-6",children:[(0,r.jsxs)(Tooltip,{className:"absolute top-0 right-0 p-2 ".concat(u&&t!==I.V.MOVED_UP_TO_DATE?"block":"hidden"),panelClassName:"w-[200px] border-foreground-7",iconClassName:"text-foreground-7",children:["You will be prompted to switch to ",null==ei?void 0:ei.label," and sign the transaction."]}),t===I.V.NOT_MOVED||t===I.V.MOVED_OUT_OF_DATE?(0,r.jsxs)(r.Fragment,{children:["Verax is a community maintained public attestation registry on Linea. Push your Passport Stamps onto Verax to gain rewards for early adopters in the Linea ecosystem.",(0,r.jsx)("span",{className:"text-xs text-foreground-7 brightness-[1.4]",children:"This action requires ETH bridged to Linea Mainnet to cover network fees, as well as a $2 mint fee which goes to the Gitcoin treasury."})]}):(0,r.jsx)("p",{children:"Verax is a community maintained public attestation registry on Linea. Push your Passport Stamps onto Verax to gain rewards for early adopters in the Linea ecosystem."}),(0,r.jsx)("div",{className:"grow"}),(0,r.jsx)($.s,{...i,isLoading:c||t===I.V.LOADING,variant:"custom",className:"".concat(i.className," rounded-s mr-2 mt-2 w-fit  self-end bg-foreground-7 text-color-4 hover:bg-foreground-7/75 enabled:hover:text-color-1 disabled:bg-foreground-7 disabled:brightness-100"),onClick:()=>{n<1?l(!0):i.onClick()},children:d})]})]}),(0,r.jsx)(VeraxPanelApprovalModal,{isOpen:o,onReject:()=>l(!1),onConfirm:()=>{i.onClick(),l(!1)}})]})},VeraxPanelApprovalModal=e=>{let{isOpen:s,onReject:t,onConfirm:a}=e;return(0,r.jsxs)(K.u_,{isOpen:s,onClose:t,children:[(0,r.jsx)(O.Z,{width:"100%",height:"100%"}),(0,r.jsxs)(X.h,{rounded:"none",padding:5,children:[(0,r.jsxs)(T.x,{children:[(0,r.jsx)("img",{alt:"shield alert",src:"../assets/shield-alert.svg",className:"m-auto mb-4 w-10"}),(0,r.jsx)("p",{className:"text-center",children:"Alert: Low Score"})]}),(0,r.jsx)(V.o,{}),(0,r.jsx)(M.f,{color:"rgb(var(--color-text-5))",className:"mb-10 overflow-auto text-center",children:"Your Passport score is currently below the Unique Humanity Verification threshold. Submitting this Passport onchain might not qualify your account as a valid unique human on Linea. Please review your stamps or reach out to support before proceeding."}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsx)(q.z,{variant:"secondary",onClick:t,children:"Cancel"}),(0,r.jsx)(q.z,{variant:"primary",onClick:a,children:"Continue anyway"})]})]})]})};var ec=t(71218);let TestingLogo=()=>(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",className:"h-16 w-16",children:(0,r.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11.42 15.17 17.25 21A2.652 2.652 0 0 0 21 17.25l-5.877-5.877M11.42 15.17l2.496-3.03c.317-.384.74-.626 1.208-.766M11.42 15.17l-4.655 5.653a2.548 2.548 0 1 1-3.586-3.586l6.837-5.63m5.108-.233c.55-.164 1.163-.188 1.743-.14a4.5 4.5 0 0 0 4.486-6.336l-3.276 3.277a3.004 3.004 0 0 1-2.25-2.25l3.276-3.276a4.5 4.5 0 0 0-6.336 4.486c.091 1.076-.071 2.264-.904 2.95l-.102.085m-1.745 1.437L5.909 7.5H4.5L2.25 3.75l1.5-1.5L7.5 4.5v1.409l4.26 4.26m-1.745 1.437 1.745-1.437m6.615 8.206L15.75 15.75M4.867 19.125h.008v.008h-.008v-.008Z"})}),TestingPanel=e=>{let{className:s}=e;return(0,r.jsxs)("div",{className:"".concat(s," flex rounded border border-focus ").concat(ec.a?"":"shadow-[0_0_15px_rgb(var(--color-focus)/.75)]"),children:[(0,r.jsxs)("div",{className:"flex shrink flex-col items-center justify-center border-r border-focus bg-gradient-to-b from-transparent to-focus/[.4] p-6",children:[(0,r.jsx)(TestingLogo,{}),(0,r.jsx)("span",{className:"mt-1 text-3xl leading-none",children:"Testing"})]}),(0,r.jsxs)("div",{className:"relative flex w-full flex-col justify-center gap-2 bg-gradient-to-b from-transparent to-focus/[.26] p-6",children:[(0,r.jsxs)("div",{className:"text-center text-xl",children:["Test Mode:"," ",(0,r.jsx)("span",{className:"font-extrabold ".concat(ec.a?"text-foreground-5":"text-background-3"),children:ec.a?"ENABLED":"DISABLED"})]}),(0,r.jsx)("div",{className:"text-center text-lg",children:ec.a?(0,r.jsx)("div",{children:"You are in test mode. You can push your credentials to testnets. You may now use other dashboards if desired. To switch back to mainnet chains return here and click below, or simply close this tab."}):(0,r.jsx)("div",{children:"Click below to enable test mode, you will need to sign in again."})}),(0,r.jsx)("div",{className:"grow"}),(0,r.jsxs)(q.z,{variant:"custom",className:"rounded-s mr-2 mt-2 w-fit self-end bg-focus hover:bg-focus/75 enabled:hover:text-color-1 disabled:bg-focus disabled:brightness-100",onClick:ec.Q,children:[ec.a?"Disable":"Enable"," Test Mode"]})]})]})},useDashboardCustomization=e=>{let s=!0,CustomPanel=e=>{let{className:s}=e;return(0,r.jsx)("div",{})};switch(e){case"testing":CustomPanel=TestingPanel;break;case"verax":CustomPanel=VeraxPanel;break;default:s=!1}return{usingCustomPanel:s,CustomPanel}};var ed=t(97663),eu=t.n(ed);function Dashboard(){let{customizationKey:e}=(0,n.UO)(),{usingCustomPanel:s,CustomPanel:t}=useDashboardCustomization(e),{passport:l,isLoadingPassport:x,allPlatforms:h,verifiedPlatforms:p,cancelCeramicConnection:g}=(0,a.useContext)(L.oQ);(0,a.useEffect)(()=>{s&&e?(document.title="Gitcoin Passport | ".concat(e.charAt(0).toUpperCase()+e.slice(1)," Dashboard"),eu().dataLayer({dataLayer:{event:"".concat(e,"-dashboard-view")}})):(document.title="Gitcoin Passport | Dashboard",eu().dataLayer({dataLayer:{event:"default-dashboard-view"}}))},[s,e]);let f=(0,W.X)(e=>e.address),v=(0,W.X)(e=>e.provider),{disconnect:b,dbAccessTokenStatus:j,dbAccessToken:P}=(0,N.sj)(),{refreshScore:_}=(0,a.useContext)(C.w),{isOpen:S,onOpen:D,onClose:V}=(0,es.q)(),T=(0,n.s0)(),A=Date.now();(0,a.useEffect)(()=>{let handleBeforeUnload=()=>{let e=Date.now();eu().dataLayer({dataLayer:{page:"/dashboard",event:"passport_interaction_duration",passportInteractionDurationCategory:"Passport Interaction",passportInteractionDurationVar:"Passport Interaction",passportInteractionDurationValue:(e-A)/1e3},dataLayerName:"PageDataLayer"})};return window.addEventListener("beforeunload",handleBeforeUnload),()=>{window.removeEventListener("beforeunload",handleBeforeUnload)}},[]);let[I,R]=(0,er.bP)(),{isOpen:Q,onOpen:U,onClose:F}=(0,es.q)(),B=(0,o.useRouter)(),{filter:G}=B.query,z=null!=G&&!!G.length&&"string"==typeof G&&(0,en.PT)(G),H=(0,Z.p)(),Y=(0,a.useMemo)(()=>Object.keys(Object.fromEntries(h)).length,[h]),J=(0,a.useMemo)(()=>Object.keys(p).length,[p]);(0,a.useEffect)(()=>{f?"connected"===j&&P&&_(f.toLowerCase(),P):T("/".concat(e?"?dashboard=".concat(e):""))},[f,P,j]),(0,a.useEffect)(()=>{let e=localStorage.getItem("successfulRefresh");e&&"true"===e?H({duration:9e3,isClosable:!0,render:e=>(0,r.jsx)(k.R,{title:"Success",message:"Your stamps are verified!",icon:"../../assets/check-icon2.svg",result:e})}):e&&"false"===e&&H({duration:9e3,isClosable:!0,render:e=>(0,r.jsx)(k.R,{title:"Failure",message:"Stamps weren't verified. Please try again.",icon:"../assets/verification-failed-bright.svg",result:e})}),localStorage.removeItem("successfulRefresh")},[]),(0,a.useEffect)(()=>{x==L.QK.FailedToConnect&&U()},[x]);let $=(0,r.jsxs)(K.u_,{isOpen:Q,onClose:F,children:[(0,r.jsx)(O.Z,{}),(0,r.jsxs)(X.h,{children:[(0,r.jsx)(M.f,{mt:4,children:(0,r.jsxs)("div",{className:"flex flex-row",children:[(0,r.jsx)("div",{className:"inline-flex h-10 w-10 flex-shrink-0 items-center justify-center rounded-full bg-background-2 md:mr-10",children:(0,r.jsx)("img",{alt:"shield-exclamation-icon",src:"./assets/shield-exclamation-icon.svg"})}),(0,r.jsxs)("div",{className:"flex flex-col","data-testid":"retry-modal-content",children:[(0,r.jsx)("p",{className:"text-lg font-bold",children:"Datasource Connection Error"}),(0,r.jsx)("p",{children:"We cannot connect to the datastore where your Stamp data is stored. Please try again in a few minutes."})]})]})}),(0,r.jsxs)(et.m,{py:3,children:[(0,r.jsx)(q.z,{"data-testid":"retry-modal-try-again",variant:"secondary",className:"mr-2",onClick:()=>{x==L.QK.FailedToConnect&&f&&(R(new ea.KS(v,f.toLowerCase())),F())},children:"Try Again"}),(0,r.jsx)(q.z,{"data-testid":"retry-modal-close",onClick:()=>{F(),b()},children:"Done"})]})]})]}),ee=(0,r.jsxs)(r.Fragment,{children:["connecting"===I.status&&(0,r.jsx)(ProcessingPopup,{"data-testid":"selfId-connection-alert",children:"Please use your wallet to sign the message prompt and complete the sign-in process."}),x===L.QK.Loading&&(0,r.jsx)(ProcessingPopup,{"data-testid":"db-stamps-alert",children:"One moment while we load your Stamps..."}),x===L.QK.LoadingFromCeramic&&(0,r.jsx)(ProcessingPopup,{"data-testid":"ceramic-stamps-alert",children:(0,r.jsxs)(r.Fragment,{children:["Connecting to Ceramic...",(0,r.jsx)("span",{className:"pl-4 text-color-1 no-underline hover:cursor-pointer hover:underline md:pl-12",onClick:g,children:"Cancel"})]})}),(0,r.jsx)(u.C,{isOpen:S,onClose:V,title:"Passport JSON",subheading:"You can find the Passport JSON data below",jsonOutput:l}),x==L.QK.FailedToConnect&&$]});return(0,r.jsxs)(c.Z,{className:"text-color-1",children:[ee,(0,r.jsxs)(w.Z,{children:[(0,r.jsx)(components_Header,{}),(0,r.jsx)(y.Z,{className:"mt-4 md:mt-6",children:(0,r.jsxs)(m.ZP,{children:[(0,r.jsx)(e=>{let{className:s}=e;return(0,r.jsxs)("div",{className:s,children:[(0,r.jsxs)("div",{className:"flex items-center ",children:[(0,r.jsxs)("span",{className:"mr-20 font-heading text-5xl",children:["My ",z&&"".concat(z," "),"Stamps"]}),l?(0,r.jsx)("button",{"data-testid":"button-passport-json",className:"h-8 w-8 rounded-md border border-background-2 bg-background-4 text-foreground-3",onClick:D,title:"View Passport JSON",children:"</>"}):(0,r.jsx)("div",{"data-testid":"loading-spinner-passport",className:"flex flex-row items-center rounded-md border-2 border-background-2 bg-background-4 px-[6px] py-1",children:(0,r.jsx)(E.$,{className:"my-[2px]",thickness:"2px",speed:"0.65s",emptyColor:"darkGray",color:"gray",size:"sm"})})]}),z&&(0,r.jsx)("div",{children:(0,r.jsx)(i(),{href:"/#/dashboard",children:(0,r.jsx)("a",{children:(0,r.jsx)("span",{"data-testid":"select-all",className:"pl-2 text-sm text-color-2",children:"see all my stamps"})})})})]})},{className:"col-span-full xl:col-span-7 "}),(0,r.jsx)(DashboardScorePanel,{className:"col-span-full ".concat(s?"lg:col-span-4":"xl:max-h-52"," xl:col-span-7")}),s||(0,r.jsx)(e=>{let{className:s}=e;return(0,r.jsx)("div",{className:s,children:(0,r.jsx)("img",{alt:"Shield",src:"/assets/dashboardIllustration.png"})})},{className:"col-start-8 col-end-[-1] row-span-2 hidden xl:block"}),s&&(0,r.jsx)(t,{className:"col-start-1 col-end-[-1] lg:col-start-5 xl:col-start-8"}),(0,r.jsx)("span",{className:"col-start-1 col-end-4 font-heading text-4xl",children:"Add Stamps"}),(0,r.jsx)(d.C,{className:"col-span-full",isLoading:x==L.QK.Loading||x==L.QK.LoadingFromCeramic||x==L.QK.FailedToConnect}),(0,r.jsx)("span",{className:"col-start-1 col-end-4 font-heading text-3xl",children:"Add Collected Stamps"}),(0,r.jsxs)("span",{className:"col-end-[-1] self-center whitespace-nowrap text-right font-alt text-3xl text-foreground-2",children:[J,"/",Y]}),(0,r.jsx)(DashboardValidStampsPanel,{className:"col-span-full"}),(0,r.jsx)(ExpiredStampsPanel,{className:"col-span-full"})]})}),(0,r.jsx)(Footer,{lightMode:!0})]})]})}}}]);